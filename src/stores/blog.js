/**
 * Created by Sergii_Azizov on 6/16/2016.
 */

"use strict";

import Reflux from 'reflux';
import Actions from '../actions/blog';

export default Reflux.createStore({
    store: [
        {
            key: 0,
            title: "–ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ React JS",
            description: "–ö—Å—é—à–∞, —Å–µ–π—á–∞—Å –æ–±–ª–∞–∑–∏–ª –∫—É—á—É —Å–æ–æ–±—â–µ—Å—Ç–≤ –∏ –≤–µ–∑–¥–µ —Ä—ç–ø –∏–ª–∏ –•–∏–ø-—Ö–æ–ø –æ –ª—é–±–≤–∏ –∏ –±—ã–≤—à–∏—Ö. –ë–ª–∏–Ω, —É –º–µ–Ω—è —É–∂–µ –Ω–µ—Ä–≤—ã —Å–¥–∞—é—Ç –æ—Ç –≤—Å–µ–≥–æ –∏ –≤—Å–µ —ç—Ç–∏ –ø–µ—Å–Ω–∏ –Ω–∞—Å—Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ—Ç–∏–ø–Ω—ã, —á—Ç–æ –ø—Ä–æ—Å—Ç–æ –∂–µ—Å—Ç—å(( –†–∞–∑—É—á–∏–ª–∏—Å—å –ø–µ—Ç—å... –∏–ª–∏ —Å–ª—É—à–∞—Ç—å...",
            isRead: false
        },
        {
            key: 1,
            title: "–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ React.js",
            description: "–Ø –∫–æ–Ω–µ—á–Ω–æ –Ω–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã –∫—Ä–∏—Ç–∏–∫, –Ω–µ –°–µ—Ä–≥–µ–π –°–æ—Å–µ–¥–æ–≤ (–∏ —Å–ª–∞–≤–∞ –ë–æ–≥—É), –Ω–æ...–í –ø–µ—Å–Ω–µ –¥–æ–ª–∂–Ω—ã –≥–∞—Ä–º–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–ª–æ–≤–∞ –∏ –º—É–∑—ã–∫–∞. –ú—É–∑—ã–∫–∞ –∫—Ä–∞—Å–∏–≤–∞—è, –ø—Ä–∏—è—Ç–Ω–æ —Å–ª—É—à–∞—Ç—å, –Ω–æ –ª—é–¥–∏ –ø—Ä–æ—á—Ç–∏—Ç–µ –æ—Ç–¥–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç...",
            isRead: true
        },
        {
            key: 2,
            title: "–í–≤–µ–¥–µ–Ω–∏–µ –≤ React.js",
            description: "–ü–æ–∂–∞–ª—É–π, —Å–∞–º—ã–π —Å–µ–∫—Å—É–∞–ª—å–Ω—ã–π –∫–ª–∏–ø —ç—Ç–æ–≥–æ –ª–µ—Ç–∞ üî• –ö —Å–ª–æ–≤—É, –∫—Ç–æ –∑–∞–±—ã–ª - —ç—Ç–æ—Ç –ø–∞—Ä–µ–Ω—å –∫–∞—á–Ω—É–ª –≤—Å—é —Å—Ç—Ä–∞–Ω—É —Å —Ö–∏—Ç–æ–º '–°–ª—ã—à—å, —Ç—ã —á–µ —Ç–∞–∫–∞—è –¥–µ—Ä–∑–∫–∞—è'",
            isRead: false
        }
    ],
    getInitialState: function () {
        return this.store;
    },

    init: function () {
        this.listenTo(Actions.markIsReadAction, this.markIsRead);
    },

    getArticles: function () {
        return this.store;
    },

    getItem: function (key) {
        return this.store[key];
    },

    markIsRead: function (key) {
        this.store[key].isRead = !this.store[key].isRead;
        this.trigger(this.store);
    }
});